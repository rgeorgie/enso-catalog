{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="mb-0">{{ player.full_name() }}</h1>
  {% if session.get('is_admin') %}
    <div>
      <a class="btn btn-outline-primary" href="{{ url_for('edit_player', player_id=player.id) }}">Edit</a>
      <form class="d-inline" action="{{ url_for('delete_player', player_id=player.id) }}" method="post" onsubmit="return confirm('Delete this player?');">
        <button class="btn btn-outline-danger" type="submit">Delete</button>
      </form>
    </div>
  {% endif %}
</div>

<div class="row g-4">
  <div class="col-md-4">
    {% if player.photo_filename %}
      <img src="{{ url_for('uploaded_file', filename=player.photo_filename) }}" alt="Photo" class="player-photo img-fluid shadow-sm">
    {% else %}
      <div class="text-muted fst-italic">No photo uploaded</div>
    {% endif %}
  </div>
  <div class="col-md-8">
    <dl class="row">
      <dt class="col-sm-3">Belt</dt><dd class="col-sm-9">{{ player.belt_rank }}</dd>
      <dt class="col-sm-3">Discipline</dt><dd class="col-sm-9">{{ player.discipline }}</dd>
      <dt class="col-sm-3">Active</dt><dd class="col-sm-9">{{ "Yes" if player.active_member else "No" }}</dd>
      <dt class="col-sm-3">Gender</dt><dd class="col-sm-9">{{ player.gender or "—" }}</dd>
      <dt class="col-sm-3">Birthdate</dt><dd class="col-sm-9">{{ player.birthdate or "—" }}</dd>
      <dt class="col-sm-3">Height</dt><dd class="col-sm-9">{{ player.height_cm or "—" }} cm</dd>
      <dt class="col-sm-3">Weight</dt><dd class="col-sm-9">{{ player.weight_kg or "—" }} kg</dd>
      <dt class="col-sm-3">Email</dt><dd class="col-sm-9">{% if player.email %}<a href="mailto:{{ player.email }}">{{ player.email }}</a>{% else %}—{% endif %}</dd>
      <dt class="col-sm-3">Phone</dt><dd class="col-sm-9">{{ player.phone or "—" }}</dd>
      <dt class="col-sm-3">Joined</dt><dd class="col-sm-9">{{ player.join_date or "—" }}</dd>
    </dl>
    {% if player.notes %}
      <h5 class="mt-4">Notes</h5>
      <p>{{ player.notes }}</p>
    {% endif %}
  </div>
</div>
{% endblock %}
``
